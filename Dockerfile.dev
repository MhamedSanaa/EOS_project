# Use the official PostgreSQL image
FROM postgres:14

# Set environment variables for PostgreSQL
ENV POSTGRES_DB=azerty
ENV POSTGRES_USER=azerty
ENV POSTGRES_PASSWORD=azerty

# Copy the SQL initialization file into the Docker container
COPY ./install-pgcrypto.sh /docker-entrypoint-initdb.d/install-pgcrypto.sh
COPY ./ecomm.sql /docker-entrypoint-initdb.d/ecomm.sql

# Make the script executable
RUN chmod +x /docker-entrypoint-initdb.d/install-pgcrypto.sh

# Expose PostgreSQL default port
EXPOSE 5432